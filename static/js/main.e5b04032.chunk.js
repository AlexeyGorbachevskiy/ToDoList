(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{102:function(t,e,a){},103:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),i=a(8),o=a.n(i);a(79),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r,l,s=a(21),u=a(28),d=a(9),f=a(43),m=a(146),b=a(60),O=a.n(b).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"3de0712e-e19a-4637-bf5e-355c7a8ad46c"}}),T=function(){return O.get("todo-lists")},k=function(t){return O.post("todo-lists",{title:t})},E=function(t){return O.delete("todo-lists/".concat(t))},h=function(t,e){return O.put("todo-lists/".concat(t),{title:e})},j=function(t){return O.get("todo-lists/".concat(t,"/tasks"))},p=function(t,e){return O.post("todo-lists/".concat(t,"/tasks"),{title:e})},L=function(t,e){return O.delete("todo-lists/".concat(t,"/tasks/").concat(e))},g=function(t,e,a){return O.put("todo-lists/".concat(t,"/tasks/").concat(e),a)};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(r||(r={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.High=2]="High",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(l||(l={}));Object(m.a)(),Object(m.a)();var v=[],C=a(22),I={},S=function(t,e,a){return function(n,c){var i=c().tasks[a].find((function(e){return e.id===t}));if(i){var o=Object(d.a)({deadline:i.deadline,description:i.description,priority:i.priority,startDate:i.startDate,title:i.title,status:i.status},e);g(a,t,o).then((function(c){n(function(t,e,a){return{type:"UPDATE-TASK",id:t,model:e,todoListId:a}}(t,e,a))}))}else console.warn("Task is not found in the state")}},D=a(61),_=Object(u.c)({todoLists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.id}));case"ADD-TODOLIST":return[Object(d.a)(Object(d.a)({},e.todoList),{},{filter:"all"})].concat(Object(f.a)(t));case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.id?Object(d.a)(Object(d.a)({},t),{},{title:e.title}):t}));case"CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id===e.id?Object(d.a)(Object(d.a)({},t),{},{filter:e.value}):t}));case"SET-TODOLISTS":return e.todoLists.map((function(t){return Object(d.a)(Object(d.a)({},t),{},{filter:"all"})}));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(C.a)({},e.todoListId,t[e.todoListId].filter((function(t){return e.id!==t.id}))));case"ADD-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(C.a)({},e.task.todoListId,[e.task].concat(Object(f.a)(t[e.task.todoListId]))));case"UPDATE-TASK":return Object(d.a)(Object(d.a)({},t),{},Object(C.a)({},e.todoListId,t[e.todoListId].map((function(t){return t.id===e.id?Object(d.a)(Object(d.a)({},t),e.model):t}))));case"ADD-TODOLIST":return Object(d.a)(Object(d.a)({},t),{},Object(C.a)({},e.todoList.id,[]));case"REMOVE-TODOLIST":var a=Object(d.a)({},t);return delete a[e.id],a;case"SET-TODOLISTS":var n=Object(d.a)({},t);return e.todoLists.forEach((function(t){n[t.id]=[]})),n;case"SET-TASKS":return Object(d.a)(Object(d.a)({},t),{},Object(C.a)({},e.todoListId,e.tasks));default:return t}}}),y=Object(u.d)(_,Object(u.a)(D.a));window.store=y;a(102);var A=a(139),w=a(140),F=a(134),N=a(142),x=a(137),K=a(143),H=a(141),R=a(138),M=a(104),P=a(31),G=a(38),U=a.n(G),V=a(144),B=a(135),J=c.a.memo((function(t){console.log("AddItemForm");var e=Object(n.useState)(""),a=Object(P.a)(e,2),i=a[0],o=a[1],r=Object(n.useState)(null),l=Object(P.a)(r,2),s=l[0],u=l[1],d=function(){o(""),""!==i.trim()?t.addItem(i):u("Title is required")};return c.a.createElement("div",null,c.a.createElement(V.a,{id:"standard-basic",label:"Type text",error:!!s,helperText:s,onKeyPress:function(t){null!==s&&u(null),13===t.charCode&&d()},onChange:function(t){null!==s&&u(null),o(t.currentTarget.value)},value:i}),c.a.createElement(F.a,{color:"primary",className:U.a.add_btn,onClick:d},c.a.createElement(B.a,null)))})),W=c.a.memo((function(t){console.log("editableSpan");var e=Object(n.useState)(!1),a=Object(P.a)(e,2),i=a[0],o=a[1],r=Object(n.useState)(""),l=Object(P.a)(r,2),s=l[0],u=l[1];return c.a.createElement(c.a.Fragment,null,i?c.a.createElement(V.a,{autoFocus:!0,value:s,onChange:function(t){return u(t.currentTarget.value)},onBlur:function(){o(!1),s.trim()?t.onChangeTitle(s):u(t.title)}}):c.a.createElement("span",{onDoubleClick:function(){u(t.title),o(!0)}},t.title))})),q=a(136),Q=a(145),Y=c.a.memo((function(t){var e=Object(n.useCallback)((function(){return t.removeTask(t.task.id,t.todoListId)}),[t.removeTask,t.task.id,t.todoListId]),a=Object(n.useCallback)((function(e){return t.changeTaskStatus(t.task.id,e.currentTarget.checked?r.Completed:r.New,t.todoListId)}),[t.changeTaskStatus,t.task.id,t.todoListId]),i=Object(n.useCallback)((function(e){t.changeTaskTitle(t.task.id,e,t.todoListId)}),[t.changeTaskTitle,t.task.id,t.todoListId]);return c.a.createElement("div",{className:"completed"!==t.filter&&t.task.status===r.Completed?U.a.is_done:""},c.a.createElement(Q.a,{checked:t.task.status===r.Completed,onChange:a,value:"checkedA",inputProps:{"aria-label":"Checkbox A"}}),c.a.createElement(W,{title:t.task.title,onChangeTitle:i}),c.a.createElement(F.a,{onClick:e,"aria-label":"delete"},c.a.createElement(q.a,null)))})),$=c.a.memo((function(t){console.log("todoList");var e=Object(s.b)();Object(n.useEffect)((function(){var a;e((a=t.id,function(t){j(a).then((function(e){t(function(t,e){return{type:"SET-TASKS",tasks:t,todoListId:e}}(e.data.items,a))}))}))}),[]);var a=Object(n.useCallback)((function(){return t.changeFilter("all",t.id)}),[t.changeFilter,t.id]),i=Object(n.useCallback)((function(){return t.changeFilter("active",t.id)}),[t.changeFilter,t.id]),o=Object(n.useCallback)((function(){return t.changeFilter("completed",t.id)}),[t.changeFilter,t.id]),l=Object(n.useCallback)((function(){return t.removeTodoList(t.id)}),[t.removeTodoList,t.id]),u=Object(n.useCallback)((function(e){return t.changeTodoListTitle(t.id,e)}),[t.changeTodoListTitle,t.id]),d=Object(n.useCallback)((function(e){t.addTask(e,t.id)}),[t.addTask,t.id]),f=t.tasks;return"active"===t.filter&&(f=t.tasks.filter((function(t){return t.status===r.New}))),"completed"===t.filter&&(f=t.tasks.filter((function(t){return t.status===r.Completed}))),c.a.createElement("div",null,c.a.createElement("h3",null,c.a.createElement(W,{title:t.title,onChangeTitle:u}),c.a.createElement(F.a,{onClick:l,"aria-label":"delete"},c.a.createElement(q.a,null))),c.a.createElement(J,{addItem:d}),c.a.createElement("div",null,f.map((function(e){return c.a.createElement(Y,{key:e.id,task:e,changeTaskStatus:t.changeTaskStatus,changeTaskTitle:t.changeTaskTitle,filter:t.filter,removeTask:t.removeTask,todoListId:t.id})}))),c.a.createElement("div",null,c.a.createElement(x.a,{variant:"all"===t.filter?"contained":"text",onClick:a},"All"),c.a.createElement(x.a,{color:"primary",variant:"active"===t.filter?"contained":"text",onClick:i},"Active"),c.a.createElement(x.a,{color:"secondary",variant:"completed"===t.filter?"contained":"text",onClick:o},"Completed")))})),z=function(t){var e=Object(s.c)((function(t){return t.todoLists})),a=Object(s.c)((function(t){return t.tasks})),i=Object(s.b)();Object(n.useEffect)((function(){i((function(t){T().then((function(e){t({type:"SET-TODOLISTS",todoLists:e.data})}))}))}),[]);var o=Object(n.useCallback)((function(t,e){i(function(t,e){return{type:"CHANGE-TODOLIST-FILTER",id:t,value:e}}(e,t))}),[i]),r=Object(n.useCallback)((function(t){var e,a=(e=t,function(t){E(e).then((function(a){t({type:"REMOVE-TODOLIST",id:e})}))});i(a)}),[i]),l=Object(n.useCallback)((function(t){var e,a=(e=t,function(t){k(e).then((function(e){t({type:"ADD-TODOLIST",todoList:e.data.data.item})}))});i(a)}),[i]),u=Object(n.useCallback)((function(t,e){i(function(t,e){return function(a){h(t,e).then((function(n){a(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",id:t,title:e}}(t,e))}))}}(t,e))}),[i]),d=Object(n.useCallback)((function(t,e){i(function(t,e){return function(a){p(t,e).then((function(t){a({type:"ADD-TASK",task:t.data.data.item})}))}}(e,t))}),[i]),f=Object(n.useCallback)((function(t,e){i(function(t,e){return function(a){L(t,e).then((function(n){a(function(t,e){return{type:"REMOVE-TASK",id:t,todoListId:e}}(e,t))}))}}(e,t))}),[i]),m=Object(n.useCallback)((function(t,e,a){i(S(t,{title:e},a))}),[i]),b=Object(n.useCallback)((function(t,e,a){i(S(t,{status:e},a))}),[i]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(R.a,{container:!0,style:{padding:"10px"}},c.a.createElement(J,{addItem:l})),c.a.createElement(R.a,{container:!0,spacing:3},e.map((function(t){var e=a[t.id];return c.a.createElement(R.a,{key:t.id,item:!0},c.a.createElement(M.a,{style:{padding:"10px"}},c.a.createElement($,{key:t.id,id:t.id,title:t.title,tasks:e,filter:t.filter,changeFilter:o,removeTodoList:r,changeTodoListTitle:u,addTask:d,removeTask:f,changeTaskTitle:m,changeTaskStatus:b})))}))))},X=c.a.memo((function(){return console.log("App"),c.a.createElement("div",{className:"App"},c.a.createElement(A.a,{position:"static"},c.a.createElement(w.a,null,c.a.createElement(F.a,{edge:"start",color:"inherit","aria-label":"menu"},c.a.createElement(H.a,null)),c.a.createElement(N.a,{variant:"h6"},"News"),c.a.createElement(x.a,{color:"inherit"},"Login"))),c.a.createElement(K.a,{fixed:!0},c.a.createElement(z,null)))}));o.a.render(c.a.createElement(s.a,{store:y},c.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},38:function(t,e,a){t.exports={error:"ToDoList_error__2_s7a",error_message:"ToDoList_error_message__2wJHE",add_btn:"ToDoList_add_btn__15G-N",filter_btn:"ToDoList_filter_btn__2gnWH",active_filter:"ToDoList_active_filter__3hqwS",is_done:"ToDoList_is_done__1wQHF"}},74:function(t,e,a){t.exports=a(103)},79:function(t,e,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.e5b04032.chunk.js.map